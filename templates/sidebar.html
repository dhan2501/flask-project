<!-- Sidebar Start -->
<nav id="sidebar" class="bg-dark text-white vh-100 p-3" style="min-width:220px;">
   <div class="mb-4 text-center">
    {% if user and user.avatar_url %}
        <img src="{{ user.avatar_url }}" class="rounded-circle mb-2" width="80" height="80" alt="Avatar">
    {% else %}
        <img src="{{ url_for('static', filename='avatar.jpg') }}" class="rounded-circle mb-2" width="80" height="80" alt="Avatar">
    {% endif %}
    <h5 class="mb-0">Welcome to ({{ user_name|capitalize }})</h5>
</div>

    <ul class="nav flex-column">
        <li class="nav-item mb-1">
            <a href="{{ url_for('dashboard') }}" class="nav-link text-white {% if request.endpoint == 'dashboard' %}active bg-secondary{% endif %} rounded px-3 py-2">
                Home
            </a>
        </li>

        <li class="nav-item mb-1">
            <a href="{{ url_for('profile') }}" class="nav-link text-white {% if request.endpoint == 'profile' %}active bg-secondary{% endif %} rounded px-3 py-2">
                Profile
            </a>
        </li>

        <li class="nav-item mb-1">
            <a href="{{ url_for('settings') }}" class="nav-link text-white {% if request.endpoint == 'settings' %}active bg-secondary{% endif %} rounded px-3 py-2">
                Settings
            </a>
        </li>

        <!-- Banner Dropdown -->
        <li class="nav-item mb-1">
            <a class="nav-link text-white px-3 py-2 rounded dropdown-toggle {% if request.endpoint in ['add_banner', 'banner_list'] %}active bg-secondary{% endif %}" 
               href="#" id="bannerDropdown" data-bs-toggle="collapse" data-bs-target="#bannerSubmenu" aria-expanded="false" aria-controls="bannerSubmenu">
                Banner
            </a>
            <div class="collapse {% if request.endpoint in ['add_banner', 'banner_list'] %}show{% endif %}" id="bannerSubmenu">
                <ul class="nav flex-column ms-3">
                    <li class="nav-item mb-1">
                        <a href="{{ url_for('add_banner') }}" class="nav-link text-white {% if request.endpoint == 'add_banner' %}active bg-secondary{% endif %} rounded px-3 py-2">
                            Add Banner
                        </a>
                    </li>
                    <li class="nav-item mb-1">
                        <a href="{{ url_for('banner_list') }}" class="nav-link text-white {% if request.endpoint == 'banner_list' %}active bg-secondary{% endif %} rounded px-3 py-2">
                            Banner List
                        </a>
                    </li>
                </ul>
            </div>
        </li>
        <li class="nav-item mb-1">
    <a class="nav-link text-white px-3 py-2 rounded dropdown-toggle 
        {% if request.endpoint in ['add_product', 'product_list', 'category_list_app', 'category_list_admin', 'add_tag', 'tag_list'] %}
            active bg-secondary
        {% endif %}" 
        href="#" id="productDropdown" data-bs-toggle="collapse" data-bs-target="#productSubmenu" aria-expanded="false" aria-controls="productSubmenu">
        Product
    </a>
    <div class="collapse 
        {% if request.endpoint in ['add_product', 'product_list', 'category_list_app', 'category_list_admin', 'add_tag', 'tag_list'] %}
            show
        {% endif %}" id="productSubmenu">
        <ul class="nav flex-column ms-3">

            <!-- Product Links -->
            <li class="nav-item mb-1">
                <a href="{{ url_for('add_product') }}" class="nav-link text-white 
                    {% if request.endpoint == 'add_product' %}active bg-secondary{% endif %} rounded px-3 py-2">
                    Add Product
                </a>
            </li>
            <li class="nav-item mb-1">
                <a href="{{ url_for('product_list') }}" class="nav-link text-white 
                    {% if request.endpoint == 'product_list' %}active bg-secondary{% endif %} rounded px-3 py-2">
                    Product List
                </a>
            </li>

            <!-- Category Links -->
            <li class="nav-item mb-1">
                <a href="{{ url_for('category_list_admin') }}" class="nav-link text-white 
                    {% if request.endpoint == 'category_list_admin' %}active bg-secondary{% endif %} rounded px-3 py-2">
                    Add Category
                </a>
            </li>
            <li class="nav-item mb-1">
                <a href="{{ url_for('category_list_app') }}" class="nav-link text-white 
                    {% if request.endpoint == 'category_list_app' %}active bg-secondary{% endif %} rounded px-3 py-2">
                    Category List
                </a>
            </li>

            <!-- Tag Links -->
            <li class="nav-item mb-1">
                <a href="{{ url_for('add_tag') }}" class="nav-link text-white 
                    {% if request.endpoint == 'add_tag' %}active bg-secondary{% endif %} rounded px-3 py-2">
                    Add Tag
                </a>
            </li>
            <li class="nav-item mb-1">
                <a href="{{ url_for('tag_list') }}" class="nav-link text-white 
                    {% if request.endpoint == 'tag_list' %}active bg-secondary{% endif %} rounded px-3 py-2">
                    Tag List
                </a>
            </li>
        </ul>
    </div>
</li>



        <!-- Blog Dropdown -->
        {#% comment %} <li class="nav-item mb-1">
            <a class="nav-link text-white px-3 py-2 rounded dropdown-toggle {% if request.endpoint in ['add_blog'] %}active bg-secondary{% endif %}" 
               href="#" id="blogDropdown" data-bs-toggle="collapse" data-bs-target="#blogSubmenu" aria-expanded="false" aria-controls="blogSubmenu">
                Blog
            </a>
            <div class="collapse {% if request.endpoint in ['add_blog'] %}show{% endif %}" id="blogSubmenu">
                <ul class="nav flex-column ms-3">
                    <li class="nav-item mb-1">
                        <a href="{{ url_for('add_blog') }}" class="nav-link text-white {% if request.endpoint == 'add_blog' %}active bg-secondary{% endif %} rounded px-3 py-2">
                            Add Blog
                        </a>
                    </li>
                </ul>
            </div>
        </li> {% endcomment %#}
        <!-- Blog Dropdown -->
<li class="nav-item mb-1">
    <a class="nav-link text-white px-3 py-2 rounded dropdown-toggle {% if request.endpoint in ['add_blog', 'blog_list'] %}active bg-secondary{% endif %}" 
       href="#" id="blogDropdown" data-bs-toggle="collapse" data-bs-target="#blogSubmenu" aria-expanded="false" aria-controls="blogSubmenu">
        Blog
    </a>
    <div class="collapse {% if request.endpoint in ['add_blog', 'blog_list'] %}show{% endif %}" id="blogSubmenu">
        <ul class="nav flex-column ms-3">
            <li class="nav-item mb-1">
                <a href="{{ url_for('add_blog') }}" class="nav-link text-white {% if request.endpoint == 'add_blog' %}active bg-secondary{% endif %} rounded px-3 py-2">
                    Add Blog
                </a>
            </li>
            <li class="nav-item mb-1">
                <a href="{{ url_for('blog_list') }}" class="nav-link text-white {% if request.endpoint == 'blog_list' %}active bg-secondary{% endif %} rounded px-3 py-2">
                    Blog List
                </a>
            </li>
        </ul>
    </div>
</li>

<li class="nav-item mb-1">
    <a class="nav-link text-white px-3 py-2 rounded dropdown-toggle {% if request.endpoint in ['add_category', 'category_list', 'edit_category'] %}active bg-secondary{% endif %}" 
       href="#" id="categoryDropdown" data-bs-toggle="collapse" data-bs-target="#categorySubmenu" aria-expanded="false" aria-controls="categorySubmenu">
        Category
    </a>
    <div class="collapse {% if request.endpoint in ['add_category', 'category_list', 'edit_category'] %}show{% endif %}" id="categorySubmenu">
        <ul class="nav flex-column ms-3">
            <li class="nav-item mb-1">
                <a href="{{ url_for('add_category') }}" class="nav-link text-white {% if request.endpoint == 'add_category' %}active bg-secondary{% endif %} rounded px-3 py-2">
                    Add Category
                </a>
            </li>
            <li class="nav-item mb-1">
                <a href="{{ url_for('category_list') }}" class="nav-link text-white {% if request.endpoint == 'category_list' %}active bg-secondary{% endif %} rounded px-3 py-2">
                    Category List
                </a>
            </li>
        </ul>
    </div>
</li>

<li class="nav-item mb-1">
    <a class="nav-link text-white px-3 py-2 rounded dropdown-toggle {% if request.endpoint in ['help', 'contact_support'] %}active bg-secondary{% endif %}" 
       href="#" id="supportDropdown" data-bs-toggle="collapse" data-bs-target="#supportSubmenu" aria-expanded="false" aria-controls="supportSubmenu">
        Support
    </a>
    <div class="collapse {% if request.endpoint in ['help', 'contact_support'] %}show{% endif %}" id="supportSubmenu">
        <ul class="nav flex-column ms-3">
            <li class="nav-item mb-1">
                <a href="{{ url_for('help') }}" class="nav-link text-white rounded px-3 py-2 {% if request.endpoint == 'help' %}active bg-secondary{% endif %}">
                    <i class="bi bi-question-circle me-2"></i> Help / FAQ
                </a>
            </li>
            <li class="nav-item mb-1">
                <a href="{{ url_for('contact_support') }}" class="nav-link text-white rounded px-3 py-2 {% if request.endpoint == 'contact_support' %}active bg-secondary{% endif %}">
                    <i class="bi bi-envelope me-2"></i> Contact Support
                </a>
            </li>
        </ul>
    </div>
</li>



        <li class="nav-item mb-1 mt-3">
            <a href="{{ url_for('logout') }}" class="nav-link text-white rounded px-3 py-2">
                Logout
            </a>
        </li>
    </ul>
    <hr class="my-4 bg-light" />
    <div class="text-xs text-muted text-center" style="font-size:0.85rem;">
        Copyright &copy;2025 All rights reserved<br>
        This template is made with by <a href="#" class="text-warning" target="_blank">Dhananjay Gupta</a>
    </div>
</nav>
<!-- Sidebar End -->
